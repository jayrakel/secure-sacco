# --- LOCAL DEV SECURITY OVERRIDES ---
sacco:
  security:
    cors:
      allowed-origins: "http://localhost:5173"

  safaricom:
    daraja:
      env: sandbox

      # These are placeholder/default Sandbox credentials.
      # Override these by setting environment variables locally if you create a custom sandbox app.
      consumer-key: ${MPESA_CONSUMER_KEY:your_sandbox_consumer_key_here}
      consumer-secret: ${MPESA_CONSUMER_SECRET:your_sandbox_consumer_secret_here}

      # Default Daraja Sandbox Passkey
      passkey: ${MPESA_PASSKEY:bfb279f9aa9bdbcf158e97dd71a467cd2e0c893059b10f78e6b72ada1ed2c919}

      # Default Daraja Sandbox Paybill
      shortcode: ${MPESA_SHORTCODE:174379}

      # NOTE: Daraja callbacks CANNOT hit "localhost".
      # Use a tunneling tool like Ngrok (e.g., https://1a2b-3c4d.ngrok-free.app) for local development.
      callback-base-url: ${MPESA_CALLBACK_BASE_URL:https://36e7-102-0-25-80.ngrok-free.app}
server:
  servlet:
    session:
      cookie:
        secure: false      # Allowed for local HTTP testing
        same-site: Lax     # Required for local cross-port (8080 to 5173) cookie delivery